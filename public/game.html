<!DOCTYPE html>
<html>
<head>
  <title>Jumping Man</title>
</head>
<body>
  <div id="game">
    <div id="background"></div>
    <div id="man"></div>
    <div id="obstacle"></div>
    <div id="points">0</div>
  </div>
  <script>
    var points = 0;
    var gameOver = false;
    
    // Function to move background
    function moveBackground() {
      var background = document.getElementById("background");
      background.style.backgroundPositionX = "-10px";
    }
    
    // Function to move obstacle
    function moveObstacle() {
      var obstacle = document.getElementById("obstacle");
      obstacle.style.left = "-10px";
    }
    
    // Function to check collision
    function checkCollision() {
      var man = document.getElementById("man");
      var obstacle = document.getElementById("obstacle");
      
      // Check if man and obstacle are colliding
      if (man.offsetLeft + man.offsetWidth >= obstacle.offsetLeft &&
          man.offsetLeft <= obstacle.offsetLeft + obstacle.offsetWidth &&
          man.offsetTop + man.offsetHeight >= obstacle.offsetTop &&
          man.offsetTop <= obstacle.offsetTop + obstacle.offsetHeight) {
        // If colliding, set gameOver to true
        gameOver = true;
      }
    }
    
    // Function to update points
    function updatePoints() {
      var pointsDiv = document.getElementById("points");
      pointsDiv.innerHTML = points;
    }
    
    // Function to jump
    function jump() {
      var man = document.getElementById("man");
      man.style.top = "-100px";
      setTimeout(function() {
        man.style.top = "0px";
      }, 500);
    }
    
    // Function to run game loop
    function gameLoop() {
      if (gameOver) {
        // If game is over, reset points and set gameOver to false
        points = 0;
        gameOver = false;
      } else {
        // If game is not over, move background and obstacle
        moveBackground();
        moveObstacle();
        
        // Check for collision and update points
        checkCollision();
        if (!gameOver) {
          points += 10;
          updatePoints();
        }
      }
      
      // Run game loop again after 100 milliseconds
      setTimeout(gameLoop, 100);
    }
    
    // Start game loop
    gameLoop();
    
    // Listen for space key press to jump
    window.addEventListener("keydown", function(e) {
      if (e.keyCode === 32) {
        jump();
      }
    });
  </script>
</body>
</html>
